<?xml version="1.0" encoding="UTF-8"?>
<databaseChangeLog
        xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-4.6.xsd">

    <changeSet id="create-rules-table" author="gitWestender">
        <sql>
            create table arguments
            (
                rule_id  UUID not null,
                index    int,
                argument varchar(20)
            );

            create table rules
            (
                id     UUID default uuid_generate_v4(),
                query  varchar(255) not null,
                negate boolean      not null,
                constraint pk_rules primary key (id)
            );

            alter table arguments
                add constraint fk_arguments_on_rules foreign key (rule_id) references rules (id);

        </sql>
    </changeSet>
</databaseChangeLog>